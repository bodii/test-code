### 高级函数与闭包
函数指针以及返回值闭包

#### 函数指针
可以向函数传递常规函数。通过函数指针允许使用函数作为另一个函数的参数。函数的类型是`fn（使用小写"f")`以免与Fn闭包trait相混淆。
fn被称为**函数指针(function pointer)**。指定参数为函数指针的语法类似于闭包。

```Rust
fn add_one(x: i32) -> i32 {
    x + 1
}

type AddOne = fn(i32) -> i32;

fn do_twice(f: AddOne, arg: i32) -> i32 {
    f(arg) + f(arg)
}

fn main() {
    let answer = do_twice(add_one, 5);

    println!("The answer is: {}", answer);
}
```
不同于闭包，fn是一个类型而不是一个trait，所以直接指定fn作为参数而不是声明一个带Fn作为trait bound的泛型参数。

函数指针实现了所有三个闭包trait(Fn、FnMut和FnOnce)，所以总是可以在调用期望闭包的函数时传递函数指针作为参数。倾向于编写使用泛型和闭包trait的函数，这样它就能接受函数或闭包作为参数。

一个只期望接受fn而不接受闭包的情况的例子是与不存在闭包的外部代码交互时：C语言的函数可以接受函数作为参数，但C语言没有闭包。

#### 返回闭包
闭包表现为trait，这意味着不能直接返回闭包。对于大部分需要返回trait的情况，可以使用实现了期望返回的trait的具体类型来替代函数的返回值。但是这不能用于闭包，因为他们没有一个可返回的具体类型；例如不允许使用函数指针fn作为返回值类型
