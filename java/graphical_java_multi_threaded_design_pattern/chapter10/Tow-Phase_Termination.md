### <b>优雅地终止线程</b>
> "线程优雅地执行终止处理，然后终止运行"这种状态用英语单词来形容的话，就是Graceful(优雅的、高贵的、得体的)。这种状态相当于工作的结束并不是慌慌张张地放下已经着手的工作不管，而是在进行必要的整理后才正式终止。
Two-Phase Termination模式就是用来优雅地终止线程的模式。

#### 安全地终止(安全性)
即使接收到终止请求，线程也不会立即终止。首先表示是否已经接收到终止请求的shutdownRequested标志会被设置为true。然后，仅在线程运行至不会破坏对象安全性的位置时，程序才会开始终止处理。
这就像是即使妈妈说了“要睡觉了”，也不能慌慌张张地打扫房间导致弄坏玩具一样。

#### 必定会进行终止处理(生存性)
线程在接收到终止请求后，会中断可以中断的wait,转入终止处理。为此，shutdownRequest方法会调用interrupt方法。
另外，为了确保在抛出异常后程序也会执行终止处理，我们使用了try...finally语句块。
这就像是不能让玩具散落一地就去睡觉一样。

#### 发出终止请求后尽快进行终止处理(响应性)
线程在接收到终止请求后，会中断可以中断的sleep,尽快进入终止处理。为此，shutdownRequest方法会调用interrupt方法。
另外，在执行长时间处理前需要检查shutdownRequested标志。
这就像是如果被妈妈说了“快收拾房间”，就要尽快地收拾房间。
这样联想的话，我们可以发现：其实，设计如何让线程优雅地终止就跟管教调皮的小孩子一样。


### 中断状态与InterruptedException 异常的相互转换
当interrupt方法被调用后，线程就可以被中断了。中断线程这个行为会带来以下结果之一。
1. 线程变为“中断状态”： 反映为“状态”
2. 抛出“InterruptedException异常”: 反映为“控制”
    通常情况下会是结果(1)；当线程正在sleep、wait、join时会是结果(2)(这时线程不会变为中断状态)。
    但是，上面的(1)和(2)是可以相互转换的。即，可以将(1)变为(2)，也可以将(2)变为(1)。可以根据程序
    需要－－大多是为了防止代码忘记线程已经被中断的事实－－进行转换。