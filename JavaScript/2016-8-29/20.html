<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>对象的世界</title>
</head>
<body>
	<script type="text/javascript">
		'use strict'
		Object.prototype.create = function () {
			var object = this;
			if (object.construct != undefined)
				object.construct.apply(object, arguments);
			return object;
		};

		// 继承
		Object.prototype.extend = function (properties) {
			var result = this;
			forEachIn(properties, function (name, value) {
				result[name] = value;
			});
			return result;
		};

		var Item = {
			construct: function (name) {
				this.name = name;
			},
			inspect: function () {
				console.log('it is ', this.name, '.');
			},
			kick: function () {
				console.log('klunk!');
			},
			take: function () {
				console.log('you cannot left ', this.name, '.');
			}
		};


		var lantern = Item.create('the brass lantern');
		lantern.kick(); // klunk!
		lantern.inspect(); // it is the brass lantern .



		var DetailedItem = Item.extend({
			construct: function (name, details) {
				this.name = name;
				this.details = details;
			},
			inspect: function () {
				console.log('you see ', this.name, ', ', this.details, '.');
			}
		});
		var giantSloth = DetailedItem.create('the giant sloth', 'it is quietly hanging from a tree, munching leaves');
		giantSloth.inspect(); // you see  the giant sloth ,  it is quietly hanging from a tree, munching leaves .




		function forEachIn (object, action) {
			for (let name in object) {
				if (Object.prototype.propertyIsEnumerable.call(object, name))
					action(name, object[name]);
			}
		}

	</script>	
</body>
</html>