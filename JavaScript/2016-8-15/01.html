<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>函数式编程</title>
</head>
<body>
	<script type="text/javascript">
		'use strict'
		var add = x => (y => x+y);

		// 试试看
		var add2 = add(2);
		var add200 = add(200);
		console.log(add2(2)); // 4
		console.log(add200(50)); // 250

		var checkage = min => (age => age > min);
		var checkage18 = checkage(18);
		console.log(checkage18(20)); // true

		//import { curry } from 'loadash';
		// define the curry() function
		// function curry (fn, scope) {

		// 	// set the scope to window (the default global object) if no scope was passed in.
		// 	scope = scope || window;

		// 	// Convert arguments into a plain array, because it is sadly not one.
		// 	// args will have all extra arguments in it, not including the first 2 (fun, scope)
		// 	// the loop skips fn and scope by starting at the index 2 with i = 2
		// 	var args = [];
		// 	for (var i = 2, len = arguments.length; i < len; ++i) {
		// 		args.push(arguments[i]);
		// 	}

		// 	// Create the new function to return
		// 	return function () {

		// 		// Convert any arguments passed to the this function into an array.
		// 		// This time we want them all 
		// 		var args2 = [];
		// 		for (var i = 0; i < arguments.length; i++) {
		// 			args.push(arguments[i]);
		// 		}

		// 		// Here we combine any args originally passed to curry , with the args
		// 		// passed directly to this function.
		// 		// curry(fn, scope, a, b)(c, d)
		// 		// would set argstotal = [a, b, c, d]
		// 		var argstotal = args.concat(args2);

		// 		// execute the original function being curried in the context of "scope"
		// 		// but with our combined array of arguments
		// 		return fn.apply(scope, argstotal);
		// 	}
		// }

		function curry (fn) {
			var func = fn;
			console.log(func);
			return function () {
				var args1 = arguments[0];
				return function () {
					var args2 = arguments[0];
					return func(args1, args2);
				}
			}
		}


		//首先柯里化两个纯函数
		var match = curry((reg, str) => str.match(reg));
		var filter = curry((f, arr) => arr.filter(f));
		//判断字符串里有没有空格
		 var haveSpace = match(/\s+/g);
		console.log(haveSpace("fffffffff")); // null
		console.log(haveSpace(' dfsd ')); // [' ', ' ']

	</script>
</body>
</html>