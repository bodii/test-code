
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>接口设计</title>
</head>
<body>
	<script type="text/javascript">
		'use strict'

		/**
		 * 下面的函数用于找出一个值在数组中的位置， 额外的可选参数
		 * 允许我们只搜索数组的一部分(start 和 end), 并在比较元素
		 * (compare)时使用自定义函数代替 ==
		 */
		
		function positionOf ( element, array, compare, start, end ) {
			if (start == null) start = 0;
			if (end == null ) end = array.length;
			for (; start < end; start++) {
				var current = array[start];
				if (compare ? compare(element, current) : element == current) return start;
			}
		}

		console.log(positionOf(2, [1, 2, 3, 4, 3, 2, 1], null, 3, 6)); // 5


		// args 里的是可选参数 {compare, start, end}
		function positionOf2 (element, array, args) {
			args = args || {};
			var start = (args.start == null ? 0 : args.start),
				end = (args.end == null ? array.length : args.end),
				compare = args.compare;

			for (; start < end; start++) {
				var current = array[start];
				if (compare ? compare(element, current) : element == current) return start;
			}
		}

		console.log(positionOf2(2, [1, 2, 3, 4, 3, 2, 1], {start: 3, end: 6}));
	</script>
</body>
</html>